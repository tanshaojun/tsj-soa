<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mapper.LogMapper">
    <select id="selectAlls" resultType="com.bean.Log">
    SELECT *
    FROM  t_log ORDER BY createTime asc
</select>
    <select id="findLogById" resultType="com.bean.Log">
    SELECT * FROM t_log
    WHERE id=#{id}
</select>
    <select id="selectAll" resultType="com.bean.LogVO">
        SELECT
        tl.id,tl.title,tl.createTime,tl.modified,tl.readingvolume,tl.content,tl.type,tl.crux,tl.imgurl,tl.author,d.value
        from t_log tl
        LEFT JOIN dir d
        on d.`key`=tl.type
        WHERE 1=1
        <if test="type != null ">
            AND tl.type=#{type}
        </if>
    </select>
</mapper>
